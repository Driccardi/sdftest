# 070.010 - Campaign Management Setup

**Process Area**: Market-to-ROI
**Configuration ID**: 070.010
**Priority**: Medium
**Estimated Effort**: 10 hours
**Dependencies**: 030.010 (Customer Categories), 4010.030 (Custom Transaction Fields)

---

## Overview

Configure comprehensive campaign management capabilities to track marketing initiatives across multiple channels (email, social media, in-store events, influencer partnerships, paid search). Enable ROI tracking by linking campaigns to transactions and calculating performance metrics.

### Business Objectives
- Track marketing campaign effectiveness across all channels
- Calculate campaign ROI (revenue vs. marketing spend)
- Integrate with external marketing platforms (Klaviyo, Google Ads, Facebook Ads)
- Enable attribution analysis for customer acquisition and conversions
- Support multi-touch attribution for complex customer journeys

### Stakeholders
- **Primary**: Sarah Mitchell (VP Digital Operations), Marketing Team
- **Secondary**: Finance Team (budget tracking), Store Managers (in-store events)

---

## Campaign Structure

### Campaign Categories

NetSuite native **Campaign** records will be used with custom categories:

1. **Email Marketing**
   - Newsletter campaigns
   - Promotional blasts
   - Abandoned cart recovery
   - Post-purchase follow-up
   - Birthday/anniversary offers
   - Loyalty tier communications

2. **Social Media**
   - Instagram campaigns
   - Facebook advertising
   - TikTok influencer partnerships
   - Pinterest product pins
   - YouTube video promotions

3. **In-Store Events**
   - Trunk shows (brand showcases)
   - VIP shopping nights
   - Grand openings/store anniversaries
   - Seasonal sales events
   - Local community sponsorships

4. **Influencer Marketing**
   - Micro-influencer partnerships
   - Celebrity endorsements
   - Brand ambassador programs
   - Affiliate partnerships
   - User-generated content campaigns

5. **Paid Search**
   - Google Ads (Search, Shopping, Display)
   - Bing Ads
   - Retargeting campaigns
   - Product listing ads (PLAs)

6. **Organic/SEO**
   - Content marketing
   - Blog posts
   - SEO optimization initiatives
   - Organic social posts

7. **Referral Programs**
   - Customer referral incentives
   - Partner referrals
   - Employee referrals

---

## Configuration Steps

### 1. Campaign Record Setup

**Navigation**: Marketing > Campaigns > New Campaign

#### Campaign Fields Configuration

**Standard Fields (Native)**:
- **Campaign ID**: Auto-numbered (CAM-{year}-{####})
- **Campaign Name**: Descriptive name (e.g., "Summer Sunglass Sale 2026")
- **Campaign Category**: Custom list (see Campaign Categories above)
- **Campaign Type**: Event, Email, Mail, Print, Webinar, Other
- **Status**: Planning, Active, Completed, On Hold, Cancelled
- **Owner**: Campaign manager (employee)
- **Date Range**:
  - Start Date
  - End Date
- **Budget**:
  - Expected Cost (total marketing spend)
  - Cost (actual spend - updated as bills come in)
- **Target Audience**: Description of target segment
- **Message**: Campaign messaging/creative description
- **Offer**: Promotion details (e.g., "20% Off All Sunglasses")

#### Custom Campaign Fields

Create custom entity fields on Campaign record:

**Custom Fields to Create**:

1. **custentity_campaign_channel** (List)
   - Email
   - Social Media - Instagram
   - Social Media - Facebook
   - Social Media - TikTok
   - Social Media - Pinterest
   - Paid Search - Google
   - Paid Search - Bing
   - In-Store Event
   - Influencer
   - Referral
   - Organic/SEO
   - Other

2. **custentity_campaign_objective** (List)
   - Brand Awareness
   - Customer Acquisition
   - Customer Retention
   - Revenue Generation
   - Product Launch
   - Seasonal Sales
   - Traffic Generation
   - Engagement

3. **custentity_campaign_target_segment** (Multi-Select)
   - VIP Customers
   - Loyal Customers
   - At-Risk Customers
   - New Customers
   - Lapsed Customers
   - All Customers
   - Store Walk-ins
   - Online Shoppers

4. **custentity_campaign_promo_code** (Text)
   - Associated promotion/coupon code

5. **custentity_campaign_url** (URL)
   - Landing page URL or campaign tracking URL

6. **custentity_campaign_utm_source** (Text)
   - UTM parameter for analytics tracking

7. **custentity_campaign_utm_medium** (Text)
   - UTM medium parameter

8. **custentity_campaign_utm_campaign** (Text)
   - UTM campaign parameter

9. **custentity_campaign_external_id** (Text)
   - Integration ID (Klaviyo campaign ID, Google Ads campaign ID, etc.)

#### Performance Metrics (Calculated Fields)

These will be populated via saved searches/workflows:

10. **custentity_campaign_revenue** (Currency - Formula)
    - Sum of related transaction amounts

11. **custentity_campaign_orders** (Integer - Formula)
    - Count of related transactions

12. **custentity_campaign_customers** (Integer - Formula)
    - Count of unique customers from campaign

13. **custentity_campaign_roi** (Percent - Formula)
    - (Revenue - Cost) / Cost × 100

14. **custentity_campaign_cost_per_order** (Currency - Formula)
    - Cost / Orders

15. **custentity_campaign_avg_order_value** (Currency - Formula)
    - Revenue / Orders

16. **custentity_campaign_conversion_rate** (Percent)
    - Orders / Impressions or Clicks (manual entry from external platforms)

17. **custentity_campaign_impressions** (Integer)
    - Total impressions (from external platforms)

18. **custentity_campaign_clicks** (Integer)
    - Total clicks (from external platforms)

---

### 2. Campaign Categories Custom List

**List ID**: `customlist_ns_campaign_categories`

**Navigation**: Customization > Lists, Records, & Fields > Custom Lists > New

**Values**:
1. Email Marketing
2. Social Media - Instagram
3. Social Media - Facebook
4. Social Media - TikTok
5. Social Media - Pinterest
6. Social Media - YouTube
7. Paid Search - Google Ads
8. Paid Search - Bing Ads
9. Paid Search - Retargeting
10. In-Store Event
11. Influencer Marketing
12. Referral Program
13. Organic/SEO
14. Affiliate Marketing
15. Direct Mail
16. Other

---

### 3. Transaction-to-Campaign Linking

To track campaign attribution, ensure transactions can be linked to campaigns:

#### Sales Order Campaign Field

**Field**: `custbody_campaign_source` (already defined in 4010.030)
- **Type**: List/Record (Campaign)
- **Applies To**: Sales Order, Cash Sale, Invoice
- **Display**: Campaign Subtab on transaction
- **Source**: Populated from:
  - Web order: UTM parameters or session data
  - In-store: Sales associate selection
  - Phone order: CSR selection

#### Campaign Attribution Logic

**Multi-Touch Attribution Model** (First Touch + Last Touch):

1. **First Touch Campaign** (`custbody_first_touch_campaign`)
   - Campaign that first acquired the customer
   - Set when customer record is created
   - Never changes

2. **Last Touch Campaign** (`custbody_campaign_source`)
   - Campaign associated with the specific order
   - Can change per transaction

---

### 4. Campaign Performance Dashboard

Create saved search for campaign performance:

**Search Name**: "Campaign Performance Dashboard"

**Criteria**:
- Record Type: Campaign
- Status: Active or Completed
- Date Range: Customizable (default: Last 90 days)

**Results Columns**:
- Campaign Name
- Category
- Channel
- Start Date - End Date
- Budget (Expected Cost)
- Actual Cost
- Revenue (formula: sum of related transaction amounts)
- Orders (formula: count of related transactions)
- ROI %
- Cost per Order
- Average Order Value
- Conversion Rate
- Status

**Formula Examples**:

**Revenue**:
```
SUM({transaction.amount})
WHERE {transaction.custbody_campaign_source} = {internalid}
```

**ROI %**:
```
CASE WHEN {cost} > 0
THEN (({formulacurrency_revenue} - {cost}) / {cost}) * 100
ELSE 0 END
```

---

### 5. Campaign Integration Setup

#### Klaviyo Email Marketing Integration

**Purpose**: Sync email campaigns and track performance

**Data Flow**:
1. **Outbound (NetSuite → Klaviyo)**:
   - Customer segments for targeted campaigns
   - Customer email preferences
   - Loyalty tier, points balance
   - Purchase history

2. **Inbound (Klaviyo → NetSuite)**:
   - Campaign performance metrics (opens, clicks, conversions)
   - Campaign external ID for matching
   - Unsubscribe/preference updates

**Implementation**:
- Use Klaviyo's API or native connector
- Schedule: Real-time for customer data, daily for metrics
- Mapping: `custentity_campaign_external_id` = Klaviyo Campaign ID

#### Google Ads Integration

**Purpose**: Track paid search campaign performance

**Data Flow**:
1. **Outbound (NetSuite → Google Ads)**:
   - Product catalog (for Shopping campaigns)
   - Inventory levels
   - Pricing updates

2. **Inbound (Google Ads → NetSuite)**:
   - Campaign performance (impressions, clicks, cost)
   - UTM parameters on web orders
   - Conversion tracking

**Implementation**:
- Use Google Ads API or Google Analytics integration
- UTM parameters captured on web orders via Shopify integration
- Batch import daily campaign metrics
- Mapping: `custentity_campaign_external_id` = Google Ads Campaign ID

#### Facebook/Instagram Ads Integration

**Purpose**: Track social media campaign performance

**Data Flow**:
1. **Inbound (Facebook → NetSuite)**:
   - Campaign metrics (reach, impressions, clicks, cost)
   - Conversion pixel data
   - UTM parameters on orders

**Implementation**:
- Use Facebook Marketing API
- Batch import daily metrics
- Mapping: `custentity_campaign_external_id` = Facebook Campaign ID

---

### 6. Campaign Naming Conventions

**Standard Format**:
```
{Year}-{Quarter/Month}-{Channel}-{Objective}-{Audience}
```

**Examples**:
- `2026-Q2-Email-Acquisition-Lapsed`: Q2 2026 email to win back lapsed customers
- `2026-06-Social-Launch-VIP`: June 2026 social media for new product launch to VIPs
- `2026-Summer-Instore-Sale-All`: Summer 2026 in-store sale event
- `2026-Q3-Influencer-Awareness-Youth`: Q3 2026 influencer campaign targeting youth segment
- `2026-08-Google-Retarget-Cart`: August 2026 Google retargeting for cart abandoners

---

### 7. Campaign Workflow (Optional)

**Workflow Name**: Campaign Approval & Activation

**Trigger**: Campaign record saved with Status = "Planning"

**Conditions**:
- Budget > $5,000

**Actions**:
1. **Approval Request**:
   - Route to Marketing Manager (budget < $10K)
   - Route to VP Digital Operations (budget > $10K)
   - Email notification with campaign details

2. **Upon Approval**:
   - Change Status to "Active"
   - Set Start Date if not already set
   - Send confirmation to Campaign Owner
   - Create journal entry for budget allocation (debit: Marketing Expense, credit: Accrued Marketing Liability)

3. **Upon Rejection**:
   - Change Status to "Cancelled"
   - Notify Campaign Owner with rejection reason

---

### 8. Campaign Reporting Requirements

#### Standard Reports

1. **Campaign ROI Summary**
   - All campaigns by channel
   - Revenue, cost, ROI %
   - Period comparison (YoY, QoQ)

2. **Top Performing Campaigns**
   - Ranked by ROI, revenue, or order count
   - Filterable by channel, date range

3. **Campaign Attribution Analysis**
   - First-touch vs. last-touch attribution
   - Customer acquisition by campaign
   - Customer lifetime value by acquisition campaign

4. **Channel Performance Comparison**
   - Email vs. social vs. paid search vs. in-store
   - Cost per acquisition by channel
   - Average order value by channel

5. **Campaign Budget vs. Actual**
   - Planned spend vs. actual
   - Remaining budget
   - Forecast to end of period

#### Dashboard Portlets

Create dashboard portlets for executive visibility:
- **Campaign ROI Trend** (line chart)
- **Channel Performance** (pie chart)
- **Active Campaigns** (list)
- **Top Campaigns This Month** (bar chart)

---

## Integration Points

### Upstream Systems
- **Klaviyo**: Email campaign metrics
- **Google Ads**: Paid search metrics
- **Facebook Ads Manager**: Social media metrics
- **Shopify**: UTM parameters from web orders
- **Lightspeed POS**: In-store event tracking (manual campaign selection)

### Downstream Systems
- **Salesforce CRM**: Campaign member sync for marketing automation
- **BigQuery**: Campaign data for advanced analytics

---

## Training Requirements

### Marketing Team Training
- Creating and managing campaigns
- Tracking campaign performance
- Understanding ROI calculations
- Using campaign dashboards
- Best practices for campaign naming and categorization

### Sales Team Training
- Linking in-store transactions to campaigns
- Using campaign codes at POS
- Reporting on in-store event success

### Finance Team Training
- Campaign budget tracking
- Reconciling marketing expenses to campaigns
- Campaign ROI reporting

---

## Success Metrics

### System Performance
- **Campaign Creation Time**: < 5 minutes per campaign
- **Data Refresh Rate**: Daily for external metrics
- **Report Load Time**: < 3 seconds for dashboards

### Business Outcomes
- **Campaign Tracking**: 100% of marketing initiatives tracked in NetSuite
- **ROI Visibility**: Real-time ROI calculation for all active campaigns
- **Attribution Accuracy**: > 90% of orders attributed to campaign source
- **Marketing Efficiency**: Improve overall marketing ROI by 15% YoY through data-driven decisions

---

## Testing Checklist

- [ ] Campaign record creation with all required fields
- [ ] Custom fields display correctly on campaign form
- [ ] Campaign categories list populated
- [ ] Campaign-to-transaction linking functional
- [ ] Campaign performance formulas calculate correctly
- [ ] Campaign dashboard displays accurate metrics
- [ ] Klaviyo integration syncs campaign data
- [ ] Google Ads UTM parameters captured
- [ ] Facebook campaign metrics imported
- [ ] Campaign approval workflow functions (if budget > $5K)
- [ ] Campaign reports display accurate data
- [ ] Multi-touch attribution tracking works

---

## Implementation Notes

### Phase 1: Foundation (Week 1)
- Create custom campaign fields
- Build campaign categories list
- Configure campaign record form

### Phase 2: Transaction Linking (Week 1)
- Ensure `custbody_campaign_source` field is functional
- Test campaign selection on sales orders
- Verify campaign attribution in reports

### Phase 3: Performance Tracking (Week 2)
- Build campaign performance saved search
- Create dashboard portlets
- Test ROI calculations

### Phase 4: Integrations (Week 2-3)
- Configure Klaviyo integration
- Set up Google Ads/Facebook metrics import
- Test end-to-end data flow

---

## Dependencies

**Must Complete First**:
- 030.010 - Customer Categories (for targeting)
- 4010.030 - Custom Transaction Fields (campaign source field)

**Related Configurations**:
- 070.020 - Promotion & Pricing Rules (campaigns often use promotions)
- 070.030 - Customer Segmentation (for campaign targeting)
- 080.010 - Case Management (for campaign-related customer inquiries)

---

## Risks and Mitigations

| Risk | Impact | Mitigation |
|------|--------|------------|
| External platform API changes | Medium | Use established connectors (Celigo), maintain fallback manual import |
| UTM parameter capture failure | High | Implement multiple tracking methods (cookies, session data, manual entry) |
| Multi-touch attribution complexity | Medium | Start with last-touch, phase in first-touch later |
| Marketing team adoption | Medium | Comprehensive training, simple campaign creation process |
| ROI calculation accuracy | High | Clearly define revenue attribution rules, validate with Finance |

---

## Maintenance and Optimization

### Monthly Tasks
- Review campaign performance with Marketing team
- Archive completed campaigns (status = completed, end date > 90 days ago)
- Update campaign categories if new channels added
- Reconcile campaign budgets vs. actual spend

### Quarterly Tasks
- Audit campaign attribution accuracy
- Review and optimize saved searches/dashboards
- Update integration mappings if needed
- Benchmark channel performance

### Annual Tasks
- Evaluate new marketing platform integrations
- Review campaign naming conventions
- Update ROI calculation methodology if needed
- Train new marketing team members

---

## Open Questions / Decisions Needed

1. **Attribution Model**: Confirm preference for first-touch vs. last-touch vs. multi-touch weighted attribution
2. **Budget Approval Thresholds**: Confirm $5K and $10K thresholds are appropriate
3. **Klaviyo Integration**: Confirm Klaviyo is the primary email platform (vs. alternatives)
4. **Influencer Tracking**: Confirm process for tracking influencer partnerships (unique codes vs. dedicated landing pages)
5. **In-Store Event Tracking**: Confirm stores can capture campaign codes at POS without disrupting checkout flow

---

**Configuration Owner**: Sarah Mitchell (VP Digital Operations)
**Technical Owner**: IT/Integration Team
**Business Owner**: Marketing Team

**Status**: Ready for Implementation
**Last Updated**: 2026-02-04
